问题链接：https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-ii/description/

# 解法：贪心

这一题的本质就是在最低点买入，在紧挨着的最高点卖出。为什么要说是紧挨着的，因为可能整体有许多**局部最低和最高**（其实就是极值，学过高数的同学应该秒懂）。而代码里通过两个 while 循环，先后寻找极大值和极小值。每一轮 for 循环都找出一个极大值进行卖出，然后找出一个极小值买入。要注意，外层 for 循环的 i < prices.size()，而 while 循环由于需要访问 prices[i + 1]，必须满足 i < prices.size() - 1。这主要是防止类似于 {1,2,3,4,5,2,4} 这种输入，如果把外层 for 循环改成 i < prices.size() - 1，就会导致漏掉2买入4卖出这个情况。

```cpp
int maxProfit(vector<int>& prices)
{
    if (prices.empty()) return 0;
    int res = 0, buyPrice = prices[0];
    for (int i = 0; i < prices.size(); ++i)
    {
        while (i < prices.size() - 1 && prices[i + 1] >= prices[i]) ++i;    // 到达极大值
        res += prices[i] - buyPrice;    // 极大值卖出
        while (i < prices.size() - 1 && prices[i + 1] <= prices[i]) ++i;    // 到达极小值
        buyPrice = prices[i];           // 极小值买入
    }

    return res;
}
```
